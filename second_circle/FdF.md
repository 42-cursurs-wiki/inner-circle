# 과제명 : FdF
**소요일수**: about 60h
**경험치**: 1000 XP
**인원수**: solo

## 과제 개요
입력받은 모델을 화면에 표시하는 프로그램을 작성하는 과제

### Mandatory
- fdf는 프랑스어 'fil de fer'의 약자로, 'wire frame model'을 뜻한다.
- wireframe model은 3d 오브젝트의 모든 정점(vertex)와 그 정점들을 연결하는 선분(edge)만을 표시한다. 이는 마치 철사를 이어 만든 뼈대처럼 보이기 때문에 wireframe이라고 한다.
- mandatory에서 도형은 isometric projection으로 그린다.

##### 예시
- **입력**: 
42.fdf 파일
```
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
0  0 10 10  0  0 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0 10 10  0  0 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0 10 10  0  0 10 10  0  0  0  0  0  0  0 10 10  0  0
0  0 10 10  0  0 10 10  0  0  0  0  0  0  0 10 10  0  0
0  0 10 10 10 10 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0 10 10 10 10 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0  0  0  0  0 10 10  0  0  0 10 10  0  0  0  0  0  0
0  0  0  0  0  0 10 10  0  0  0 10 10  0  0  0  0  0  0
0  0  0  0  0  0 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0  0  0  0  0 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
```

- **실행**:
``` bash
$ ./fdf 42.fdf
```

- **출력 화면**
![[fdf-42.png]]
### Bonus
1. **추가 투영법**
2. **확대 / 축소**
3. **이동**
4. **회전**
5. **원하는 기능 하나**

- 시연 영상
![[Screen Recording 2023-10-19 at 4.13.45 PM.mov]]
# 학습 목표
컴퓨터에서 그래픽 표현의 기본 원리 및 기술 습득.

#### 상세
1. **상용 그래픽 라이브러리의 사용법 학습**:  miniLibX(이하 mlx)라는 42 자체 라이브러리를 통해 화면을 그린다. mlx 상용 그래픽 라이브러리인 OpenGL의 API를 가졌기 때문에 과제를 하면서 자연스럽게 OpenGL의 사용법을 익힐 수 있다. 

2. **투영법에 대한 이해**: 3차원 투영 중 isometric projection을 이해하고 표현하는 방법, 다른 투영과의 차이에 대해 공부한다. 

## 평가 항목

1. **isometric projection**: isometric projection에 대해 설명하고, 표시된 화면이 이에 해당하는지 보여야 한다.

2. **화면 표시 최적화**: mlx에는 화면에 픽셀을 그리는 두 가지 api를 제공한다.  하나는 직접 화면에 그리는 mlx_pixel_put이고, 하나는 그려진 이미지를 화면에 띄우는 mlx_put_image_to_window이다. pixel_put을 통해 1920 * 1080 크기의 화면을 채우려면 해당 api를 200만번 호출해야하지만, put_image_to_window를 통해 할 경우 api를 한번만 호출하면 된다. 물론 원하는 이미지를 그리기 위해 각 픽셀의 색을 일일이 바꿔야한다. 하지만 이미지의 색상 값을 바꾸는 연산은 각 위치에 색상을 대입하기만 하면 되므로 api호출에 비해 상대적으로 저렴하다.

3. **입력값 처리**: 파일을 입력으로 받는 만큼, 잘못된 형식이 들어왔을 경우, 파일이 비어있을 경우, 파일 열기에 실패했을 경우 등 다양한 에러 케이스에 대해 적절한 처리가 되어있어야 한다.

4. **메모리 해제**: 동적 할당된 메모리를 추적하여 프로그램이 끝날 때 적절히 해제되어야 하며 메모리 leak이 발생해서는 안된다. 

## 연관 교과 및 분야
1. **선형대수학**:
	- 벡터와 벡터 공간
	- 행렬
	- 선형 변환
	- 행렬의 곱셈
	- 행렬식(determinant)와 역행렬
2. **기하학**
3. **삼각함수**
4. **평사(Parallel) / 원뿔(Conic) 투영**
5. **사원수(Quaternion)**
### miniLibX 공통

1. **키 입력 반응성 조절**: 키를 누르고 있을 때의 반복 입력 속도는 OS의 설정에 종속적이다. 하지만 제공하는 그래픽 라이브러리의 키 입력 이벤트를 조절하면 OS의 설정과 독립적으로 키 입력 속도를 조절할 수 있다.
2. **다중 버퍼링**: 프로그램은 키 입력을 통해 실시간으로 도형을 회전, 변형시킬 수 있으므로, 빠른 속도로 갱신되는 화면을 적절히 그려내야한다. 이 때 그리는 화면과 표시하는 화면을 따로 두는 이중 버퍼링을 이용하여 티어링을 방지할 수 있다.