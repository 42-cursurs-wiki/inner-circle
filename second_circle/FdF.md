# 과제명 : FdF
소요일수: about 60h
경험치: 1000 XP
인원수: solo

## 과제 내용
### Mandatory
#### 개요
도형의 높이, 색상 등이 적힌 명세를 보고 도형을 다양한 각도에서 '입체적으로 보이게' 하는 프로그램을 작성하는 과제

#### 상세
FdF 프로그램은 맵을 입력으로 받는다. 맵은 숫자들의 집합이며, 각각의 숫자는 해당 점의 높이를 나타낸다.  행, 열, 해당 숫자는 각각 화면 안에서 x, y, z축의 대응하는 한 점으로 나타난다.
각각의 점은 인접한 점과 선으로 이어진다. 이는 화면 안에서 그물망과 같은 형태로 나타난다. 
프로그램은 입력 받은 맵을 isometric projection으로 나타낸다.

##### 예시
- 입력 (42.fdf 파일)
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
0  0 10 10  0  0 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0 10 10  0  0 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0 10 10  0  0 10 10  0  0  0  0  0  0  0 10 10  0  0
0  0 10 10  0  0 10 10  0  0  0  0  0  0  0 10 10  0  0
0  0 10 10 10 10 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0 10 10 10 10 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0  0  0  0  0 10 10  0  0  0 10 10  0  0  0  0  0  0
0  0  0  0  0  0 10 10  0  0  0 10 10  0  0  0  0  0  0
0  0  0  0  0  0 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0  0  0  0  0 10 10  0  0  0 10 10 10 10 10 10  0  0
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0
0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0  0

- 실행문
``` bash
$ ./fdf 42.fdf
```

- 실행 화면(isometric projection)
![[fdf-42.png]]


### Bonus

키 입력을 통해 도형을 회전, 이동, 변형시킬 수 있다.

- 실행 화면 (회전, 이동, 변형)
![[Screen Recording 2023-10-17 at 9.45.18 AM.mov]]




#### 개요 
컴퓨터에서 그래픽을 표현하는 기본적인 방법을 배운다. 

#### 상세 
1. 상용 그래픽 라이브러리의 사용법 학습
miniLibX(이하 mlx)라는 42 자체 라이브러리를 통해 화면을 그린다. mlx 상용 그래픽 라이브러리인 OpenGL의 API를 가졌기 때문에 과제를 하면서 자연스럽게 OpenGL의 사용법을 익힐 수 있다. 

2. 투영법에 대한 이해
3차원 투영 중 isometric projection을 이해하고 표현하는 방법, 다른 투영과의 차이에 대해 공부한다. 

## 평가 항목

1. isometric projection
isometric projection에 대해 설명하고, 표시된 화면이 이에 해당하는지 보여야 한다.
2. 화면 표시 최적화
mlx에는 화면에 픽셀을 그리는 두 가지 api를 제공한다. 
하나는 직접 화면에 그리는 mlx_pixel_put이고, 하나는 그려진 이미지를 화면에 띄우는 mlx_put_image_to_window이다. 
pixel_put을 통해 1920 * 1080 크기의 화면을 채우려면 해당 api를 200만번 호출해야하지만, put_image_to_window를 통해 할 경우 api를 한번만 호출하면 된다.
물론 원하는 이미지를 그리기 위해 각 픽셀의 색을 일일이 바꿔야한다. 하지만 이미지의 색상 값을 바꾸는 연산은 각 위치에 색상을 대입하기만 하면 되므로 api호출에 비해 상대적으로 저렴하다. 
3. 입력값 처리
파일을 입력으로 받는 만큼, 잘못된 형식이 들어왔을 경우, 파일이 비어있을 경우, 파일 열기에 실패했을 경우 등 다양한 에러 케이스에 대해 적절한 처리가 되어있어야 한다.
4. 메모리 해제
동적 할당된 메모리를 추적하여 프로그램이 끝날 때 적절히 해제되어야 하며 메모리 leak이 발생해서는 안된다. 

## 연관 교과
- 선형대수학
- 기하학
- 삼각함수

#### 보너스 
- 복소수(복소평면)
- 사영 기하학

### miniLibX 공통

-  키 입력 이벤트 종류에 따라 반복 입력 속도를 조절하는 일반적인 방법
키를 누르고 있을 때의 반복 입력 속도는 OS의 설정에 종속적이다. 하지만 제공하는 그래픽 라이브러리의 키 입력 이벤트를 조절하면 OS의 설정과 독립적으로 키 입력 속도를 조절할 수 있다.

-  다중 버퍼링
프로그램은 키 입력을 통해 실시간으로 도형을 회전, 변형시킬 수 있으므로, 빠른 속도로 갱신되는 화면을 적절히 그려내야한다. 이 때 그리는 화면과 표시하는 화면을 따로 두는 이중 버퍼링을 이용하여 티어링을 방지할 수 있다.